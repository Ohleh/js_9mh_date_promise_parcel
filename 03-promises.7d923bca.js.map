{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,QACjCC,EAAQF,SAASG,cAAc,MAqCrC,SAASC,EAAcC,EAAUC,GAC/BC,QAAQC,IAAIF,GACZ,MAAMG,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,GACFF,QAAQC,IAAI,QAASF,GAErBO,EAAQ,C,SAAER,E,MAAUC,E,cAAOG,KAE3BK,EAAO,C,SAAET,E,MAAUC,E,cAAOG,GAAgB,GAE3CH,EAAM,G,CA7CbP,EAAQiB,iBAAiB,UAEzB,SAAkBC,GAChBf,EAAMgB,YAAc,GACpBD,EAAEE,iBAEF,MAAMC,EAAOH,EAAEI,OAAOC,SAChBC,EAAQC,OAAOJ,EAAKd,MAAMmB,OAC1BC,EAAOF,OAAOJ,EAAKM,KAAKD,OACxBE,EAASH,OAAOJ,EAAKO,OAAOF,OAElC,IACE,IAAIG,EAAW,EAAGC,EAAKN,EACvBK,GAAYD,EACZC,IAAYC,GAAMH,EAElBtB,EAAcwB,EAAUC,GACrBC,MAAK,EAACzB,SAAEA,EAAQC,MAAEA,EAAKG,cAAEA,MACxBF,QAAQC,IACN,uBAAqBH,QAAiBC,QAAYG,MAEpDP,EAAM6B,WAAa,2BAAyB1B,QAAiBC,QAAYG,SAAgB,IAE1FuB,OAAM,EAAC3B,SAAEA,EAAQC,MAAEA,EAAKG,cAAEA,MACzBF,QAAQC,IACN,sBAAoBH,QAAiBC,QAAYG,MAEnDP,EAAM6B,WAAa,2BAAyB1B,QAAiBC,QAAYG,SAAgB,IAG/FV,EAAQkC,MAAM/B,E","sources":["src/js/03-promise.js"],"sourcesContent":["const formRef = document.querySelector('form');\nconst ulRef = document.createElement('ul');\n\n// formRef.insertAdjacentHTML('afterend', '<h2>Popular technologies_2</h2>');\n\nformRef.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  ulRef.textContent = '';\n  e.preventDefault();\n\n  const form = e.target.elements;\n  const delay = Number(form.delay.value);\n  const step = Number(form.step.value);\n  const amount = Number(form.amount.value);\n\n  for (\n    let position = 1, jD = delay;\n    position <= amount;\n    position++, jD += step\n  ) {\n    createPromise(position, jD)\n      .then(({ position, delay, shouldResolve }) => {\n        console.log(\n          `✅ Fulfilled promise ${position} in ${delay}ms. ${shouldResolve}.`\n        );\n        ulRef.innerHTML += `<li>✅ Fulfilled promise ${position} in ${delay}ms. ${shouldResolve}.</li>`;\n      })\n      .catch(({ position, delay, shouldResolve }) => {\n        console.log(\n          `❌ Rejected promise ${position} in ${delay}ms. ${shouldResolve}.`\n        );\n        ulRef.innerHTML += `<li>✅ Fulfilled promise ${position} in ${delay}ms. ${shouldResolve}.</li>`;\n      });\n  }\n  formRef.after(ulRef);\n}\n\nfunction createPromise(position, delay) {\n  console.log(delay);\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        console.log('delay', delay);\n\n        resolve({ position, delay, shouldResolve });\n      } else {\n        reject({ position, delay, shouldResolve });\n      }\n    }, delay);\n  });\n  return promise;\n  // .then(resolve => console.log(resolve))\n  // .then(({ position, delay, shouldResolve }) => {\n  //   console.log(`resolve №${position}. delay-${delay}. ${shouldResolve}.`);\n  //   const markup = `<li> resolve №${position}. delay-${delay}. ${shouldResolve}. </li>`;\n  //   ulRef.insertAdjacentElement('afterend', formRef);\n  //   ulRef.insertAdjacentHTML('beforeend', markup);\n  // })\n}\n"],"names":["$fa731149d7840060$var$formRef","document","querySelector","$fa731149d7840060$var$ulRef","createElement","$fa731149d7840060$var$createPromise","position","delay","console","log","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","textContent","preventDefault","form","target","elements","delay1","Number","value","step","amount","position1","jD","then","innerHTML","catch","after"],"version":3,"file":"03-promises.7d923bca.js.map"}