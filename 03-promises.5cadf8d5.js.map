{"mappings":"YAAA,IAAMA,EAAUC,SAASC,cAAc,QACjCC,EAAQF,SAASG,cAAc,MAqCrC,SAASC,EAAcC,EAAUC,GAC/BC,QAAQC,IAAIF,GACZ,IAAMG,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,GACFF,QAAQC,IAAI,QAASF,GAErBO,EAAQ,CAAER,WAAUC,QAAOG,mBAE3BK,EAAO,CAAET,WAAUC,QAAOG,iB,GAE3BH,E,IA7CPP,EAAQiB,iBAAiB,UAEzB,SAAkBC,GAChBf,EAAMgB,YAAc,GACpBD,EAAEE,iBAOF,IALA,IAAMC,EAAOH,EAAEI,OAAOC,SAChBC,EAAQC,OAAOJ,EAAKd,MAAMmB,OAC1BC,EAAOF,OAAOJ,EAAKM,KAAKD,OACxBE,EAASH,OAAOJ,EAAKO,OAAOF,OAG5BG,EAAW,EAAGC,EAAKN,EACvBK,GAAYD,EACZC,IAAYC,GAAMH,EAElBtB,EAAcwB,EAAUC,GACrBC,MAAK,SAAAC,G,IAAG1B,EAAQ0B,EAAR1B,SAAUC,EAAKyB,EAALzB,MAAOG,EAAasB,EAAbtB,cACxBF,QAAQC,IACN,uBAAwCwB,OAAf3B,EAAS,QAAkB2B,OAAZ1B,EAAM,QAAoB0B,OAAdvB,EAAc,MAEpEP,EAAM+B,WAAa,2BAA4CD,OAAf3B,EAAS,QAAkB2B,OAAZ1B,EAAM,QAAoB0B,OAAdvB,EAAc,S,IAE1FyB,OAAM,SAAAH,G,IAAG1B,EAAQ0B,EAAR1B,SAAUC,EAAKyB,EAALzB,MAAOG,EAAasB,EAAbtB,cACzBF,QAAQC,IACN,sBAAuCwB,OAAf3B,EAAS,QAAkB2B,OAAZ1B,EAAM,QAAoB0B,OAAdvB,EAAc,MAEnEP,EAAM+B,WAAa,2BAA4CD,OAAf3B,EAAS,QAAkB2B,OAAZ1B,EAAM,QAAoB0B,OAAdvB,EAAc,S,IAG/FV,EAAQoC,MAAMjC,E","sources":["src/js/03-promise.js"],"sourcesContent":["const formRef = document.querySelector('form');\nconst ulRef = document.createElement('ul');\n\n// formRef.insertAdjacentHTML('afterend', '<h2>Popular technologies_2</h2>');\n\nformRef.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  ulRef.textContent = '';\n  e.preventDefault();\n\n  const form = e.target.elements;\n  const delay = Number(form.delay.value);\n  const step = Number(form.step.value);\n  const amount = Number(form.amount.value);\n\n  for (\n    let position = 1, jD = delay;\n    position <= amount;\n    position++, jD += step\n  ) {\n    createPromise(position, jD)\n      .then(({ position, delay, shouldResolve }) => {\n        console.log(\n          `✅ Fulfilled promise ${position} in ${delay}ms. ${shouldResolve}.`\n        );\n        ulRef.innerHTML += `<li>✅ Fulfilled promise ${position} in ${delay}ms. ${shouldResolve}.</li>`;\n      })\n      .catch(({ position, delay, shouldResolve }) => {\n        console.log(\n          `❌ Rejected promise ${position} in ${delay}ms. ${shouldResolve}.`\n        );\n        ulRef.innerHTML += `<li>❌ Fulfilled promise ${position} in ${delay}ms. ${shouldResolve}.</li>`;\n      });\n  }\n  formRef.after(ulRef);\n}\n\nfunction createPromise(position, delay) {\n  console.log(delay);\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        console.log('delay', delay);\n\n        resolve({ position, delay, shouldResolve });\n      } else {\n        reject({ position, delay, shouldResolve });\n      }\n    }, delay);\n  });\n  return promise;\n  // .then(resolve => console.log(resolve))\n  // .then(({ position, delay, shouldResolve }) => {\n  //   console.log(`resolve №${position}. delay-${delay}. ${shouldResolve}.`);\n  //   const markup = `<li> resolve №${position}. delay-${delay}. ${shouldResolve}. </li>`;\n  //   ulRef.insertAdjacentElement('afterend', formRef);\n  //   ulRef.insertAdjacentHTML('beforeend', markup);\n  // })\n}\n"],"names":["$6b6c8d7ec641984c$var$formRef","document","querySelector","$6b6c8d7ec641984c$var$ulRef","createElement","$6b6c8d7ec641984c$var$createPromise","position","delay","console","log","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","textContent","preventDefault","form","target","elements","delay1","Number","value","step","amount","position1","jD","then","param","concat","innerHTML","catch","after"],"version":3,"file":"03-promises.5cadf8d5.js.map"}